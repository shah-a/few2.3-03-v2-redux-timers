var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))a.call(t,r)&&i(e,r,t[r]);return e},s=(e,n)=>t(e,r(n));import{r as l,u as d,j as u,a as m,b as p,v as f,c as y,d as h,t as T,R as E,e as v,P as g}from"./vendor.5a08c829.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function b(){const[e,t]=l.exports.useState(""),r=d();return u("div",{className:"NewTimer",children:m("form",{onSubmit:t=>{t.preventDefault(),r((e=>({type:"ADD_TIMER",payload:{name:e}}))(e))},children:[u("input",{type:"text",placeholder:"New Timer Name",value:e,onChange:e=>t(e.target.value)}),u("button",{type:"submit",children:"Save"})]})})}const _=e=>{const t=Math.round(e/100)%10,r=Math.floor(e/1e3)%60,n=Math.floor(e/1e3/60)%60;return`${Math.floor(e/1e3/1e3/60)%60}:${n}:${r}.${t}`};function O({timer:e,index:t}){const r=d();return m("div",{className:"Timer",children:[u("h2",{children:e.name}),u("h1",{children:_(e.time)}),u("button",{type:"button",onClick:()=>r((e=>({type:"TOGGLE_TIMER",payload:{index:e}}))(t)),children:e.active?"Stop":"Start"})]})}function S(){const e=p((e=>e.timers));return u("div",{className:"TimersList",children:e.map(((e,t)=>u(O,{timer:e,index:t},e.id)))})}function w(){return m("div",{className:"App",children:[u("h1",{children:"TMRZ"}),u(b,{}),u(S,{})]})}class M{constructor(e){this.id=f(),this.name=e,this.time=0,this.active=!1}}const N=h(y({timers:(e=[],t)=>{switch(t.type){case"ADD_TIMER":{const r=t.payload.name.trim()?t.payload.name:`Timer ${e.length+1}`;return[...e,new M(r)]}case"TOGGLE_TIMER":return e.map(((e,r)=>r===t.payload.index?s(c({},e),{active:!e.active}):e));case"UPDATE_TIME":return e.map((e=>{if(e.active){const r=e.time+t.payload.deltaTime;return s(c({},e),{time:r})}return e}));default:return e}},selectedTimer:(e=[],t)=>{switch(t.type){case"SELECT_TIMER":return t.payload.index;default:return e}}}),(()=>{try{const e=localStorage.getItem("TMRZ_STATE");if(null===e)return;return JSON.parse(e)}catch(e){return void console.log("Error loading data")}})(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());N.subscribe(T((()=>{(e=>{try{const t=JSON.stringify(e);localStorage.setItem("TMRZ_STATE",t)}catch(t){console.log("Error saving data")}})(N.getState())}),1e3));let I=Date.now();setInterval((()=>{const e=Date.now(),t=e-I;I=e,N.dispatch((e=>({type:"UPDATE_TIME",payload:{deltaTime:e}}))(t))}),50),E.render(u(v.StrictMode,{children:u(g,{store:N,children:u(w,{})})}),document.getElementById("root"));
